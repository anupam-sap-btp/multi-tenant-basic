xs-app.json for approuter:
{ 
  "welcomeFile": "abcdefbrowse/",
  "routes": [
    {
      "source": "^/-/cds/.*",
      "destination": "mtx-api",
      "authenticationType": "none"
    },
    {
      "source": "^(.*)$",
      "target": "$1",
      "service": "html5-apps-repo-rt",
      "authenticationType": "xsuaa"
    }
  ]
}

replaced xs-app.json in approuter:
{
  "routes": [
    {
      "source": "^/(.*)$",
      "target": "$1",
      "destination": "srv-api",
      "csrfProtection": true
    }
  ],
  "welcomeFile": "/productui"
}


xs-app.json for fiori:
{
  "welcomeFile": "/index.html",
  "authenticationMethod": "route",
  "routes": [
    {
      "source": "^/resources/(.*)$",
      "target": "/resources/$1",
      "authenticationType": "none",
      "destination": "ui5"
    },
    {
      "source": "^/test-resources/(.*)$",
      "target": "/test-resources/$1",
      "authenticationType": "none",
      "destination": "ui5"
    },
    {
      "source": "^/?odata/v4/catalog/(.*)$",
      "target": "/odata/v4/catalog/$1",
      "destination": "srv-api",
      "authenticationType": "xsuaa",
      "csrfProtection": true
    },
    {
      "source": "^(.*)$",
      "target": "$1",
      "service": "html5-apps-repo-rt",
      "authenticationType": "xsuaa"
    }
  ]
}

redirect uri:
- https://*.cfapps.us10-001.hana.ondemand.com/**

destination for srv-api:
  requires:
    - name: srv-api

          - Authentication: NoAuthentication
            HTML5.DynamicDestination: true
            HTML5.ForwardAuthToken: true
            Name: srv-api
            ProxyType: Internet
            Type: HTTP
            URL: ~{srv-api/srv-url}


add to mtx require section in mta.yaml
requires:
  - name: app-api
    properties:
      SUBSCRIPTION_URL: ~{app-protocol}://\${tenant_subdomain}-~{app-uri}
  - name: abcdef-db
  - name: abcdef-html5-runtime
  - name: abcdef-registry
  - name: abcdef-auth
  - name: abcdef-destination            

add approuter properties:
properties:
    TENANT_HOST_PATTERN: ^(.*)-${default-uri}

add approuter requires:
- name: mtx-api
    group: destinations
    properties:
      name: mtx-api
      url: ~{mtx-url}       

change resource -> auth
tanent-mode: shared
change resources -> db
- name: abcdef-db
  type: org.cloudfoundry.managed-service
  parameters:
    service: service-manager
    service-plan: container      

remove db deployer part from module section of mta.yaml
- name: mtapptest-db-deployer
  type: hdb
  path: gen/db
  requires:
  - name: mtapptest-db
  parameters:
    buildpack: nodejs_buildpack    